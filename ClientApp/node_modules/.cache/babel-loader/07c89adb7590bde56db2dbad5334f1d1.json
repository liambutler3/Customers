{"ast":null,"code":"var _jsxFileName = \"C:\\\\Test\\\\Customers\\\\ClientApp\\\\src\\\\components\\\\CustomerEdit.js\";\nimport React, { useState, useEffect } from 'react';\nexport function CustomerEdit() {\n  const [loading, setLoading] = useState(true);\n  const [customer, setCustomer] = useState([]);\n  const [index, setIndex] = useState(); // on load, get customer\n\n  useEffect(async () => {\n    // get the index from the url\n    var index = parseInt(window.location.pathname.split('/')[2]);\n    console.log(index);\n    setIndex(index);\n    console.log(index);\n    const response = await fetch('/Customers/GetCustomer/' + index);\n    const data = await response.json();\n    setCustomer(data);\n    setLoading(false);\n    console.log(data);\n    console.log(customer);\n  }, []);\n\n  function submitForm(e) {\n    e.preventDefault();\n    var form = document.getElementById(\"myform\");\n    var data = new FormData(form);\n    data.append(\"id\", index);\n    data.append(\"first_name\", document.getElementById(\"first_name\").value);\n    data.append(\"last_name\", document.getElementById(\"last_name\").value);\n    data.append(\"email\", document.getElementById(\"email\").value);\n    data.append(\"phone\", document.getElementById(\"phone\").value);\n    fetch('/Customers/Edit', {\n      method: 'POST',\n      body: data\n    })\n    /*                 .then(function (response) {\r\n                console.log(response)\r\n                return response.json();\r\n            })*/\n    .then(function (data) {\n      // redirect to the customers page\n      window.location.href = \"/\";\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }\n\n  const renderEditCustomerForm = customer => {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      id: \"myform\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"hidden\", {\n      id: \"id\",\n      value: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"first_name\",\n      class: \"form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      id: \"first_name\",\n      defaultValue: customer.first_name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"last_name\",\n      class: \"form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, \"Last Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      id: \"last_name\",\n      defaultValue: customer.last_name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"email\",\n      class: \"form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      id: \"email\",\n      defaultValue: customer.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"phone\",\n      class: \"form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, \"Phone\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      id: \"phone\",\n      defaultValue: customer.phone,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: submitForm,\n      class: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, \"Save\"));\n  };\n\n  const contents = loading ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 14\n    }\n  }, \"Loading...\")) : /*#__PURE__*/React.createElement(React.Fragment, null, renderEditCustomerForm(customer));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    id: \"tableLabel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, \"Edit Customers\"), contents);\n}","map":{"version":3,"sources":["C:/Test/Customers/ClientApp/src/components/CustomerEdit.js"],"names":["React","useState","useEffect","CustomerEdit","loading","setLoading","customer","setCustomer","index","setIndex","parseInt","window","location","pathname","split","console","log","response","fetch","data","json","submitForm","e","preventDefault","form","document","getElementById","FormData","append","value","method","body","then","href","catch","err","renderEditCustomerForm","first_name","last_name","email","phone","contents"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nexport function CustomerEdit()\r\n{\r\n    const [loading, setLoading] = useState(true);\r\n    const [customer, setCustomer] = useState([]);\r\n    const [index, setIndex] = useState();\r\n\r\n    // on load, get customer\r\n    useEffect(async () => {\r\n\r\n        // get the index from the url\r\n        var index = parseInt(window.location.pathname.split('/')[2]);\r\n        console.log(index);\r\n\r\n        setIndex(index);\r\n\r\n        console.log(index);\r\n\r\n        const response = await fetch('/Customers/GetCustomer/' + index);\r\n        const data = await response.json();\r\n\r\n        setCustomer(data)\r\n        setLoading(false);\r\n\r\n        console.log(data);\r\n        console.log(customer);\r\n    }, []);\r\n\r\n    function submitForm(e) {\r\n        e.preventDefault();\r\n\r\n        var form = document.getElementById(\"myform\");\r\n\r\n        var data = new FormData(form);\r\n\r\n        data.append(\"id\", index);\r\n        data.append(\"first_name\", document.getElementById(\"first_name\").value);\r\n        data.append(\"last_name\", document.getElementById(\"last_name\").value);\r\n        data.append(\"email\", document.getElementById(\"email\").value);\r\n        data.append(\"phone\", document.getElementById(\"phone\").value);\r\n\r\n\r\n        fetch('/Customers/Edit', {\r\n            method: 'POST',\r\n            body: data\r\n        })\r\n/*                 .then(function (response) {\r\n            console.log(response)\r\n            return response.json();\r\n        })*/\r\n        .then(function (data) {\r\n            // redirect to the customers page\r\n            window.location.href = \"/\";\r\n        }).catch(function (err) {\r\n            console.log(err)\r\n        });\r\n    }\r\n\r\n    const renderEditCustomerForm = (customer) => {\r\n        return (\r\n            <form id=\"myform\">\r\n                <hidden id=\"id\" value={index} />\r\n                <div class=\"mb-3\">\r\n                    <label for=\"first_name\" class=\"form-label\">First Name</label>\r\n                    <input type=\"text\" class=\"form-control\" id=\"first_name\" defaultValue={customer.first_name} />\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                    <label for=\"last_name\" class=\"form-label\">Last Name</label>\r\n                    <input type=\"text\" class=\"form-control\" id=\"last_name\" defaultValue={customer.last_name} />\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                    <label for=\"email\" class=\"form-label\">Email</label>\r\n                    <input type=\"text\" class=\"form-control\" id=\"email\" defaultValue={customer.email} />\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                    <label for=\"phone\" class=\"form-label\">Phone</label>\r\n                    <input type=\"text\" class=\"form-control\" id=\"phone\" defaultValue={customer.phone} />\r\n                </div>\r\n                <button onClick={submitForm} class=\"btn btn-primary\">Save</button>\r\n            </form>\r\n        );\r\n    }\r\n\r\n    const contents = loading\r\n        ? <p><em>Loading...</em></p>\r\n        :\r\n        <>\r\n            {renderEditCustomerForm(customer)}\r\n        </>\r\n\r\n  return (\r\n    <div>\r\n      <h1 id=\"tableLabel\">Edit Customers</h1>\r\n          {contents}\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}